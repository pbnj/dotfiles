##########################################
# MINIMAL TMUX SETUP
##########################################
# # from sensible: https://github.com/tmux-plugins/tmux-sensible/blob/master/sensible.tmux
# set-option -g default-terminal "screen-256color"
# set-option -sg escape-time 0
# set-option -g focus-events on
# setw -g mode-keys vi # support vi copy/paste
# set -g mouse on # support mouse
#
# # from pain-control: https://github.com/tmux-plugins/tmux-pain-control/blob/master/pain_control.tmux
# ## navigations
# bind-key -r h   select-pane -L
# bind-key -r C-h select-pane -L
# bind-key -r j   select-pane -D
# bind-key -r C-j select-pane -D
# bind-key -r k   select-pane -U
# bind-key -r C-k select-pane -U
# bind-key -r l   select-pane -R
# bind-key -r C-l select-pane -R
#
# ## windows
# bind-key -r "<" swap-window -t -1
# bind-key -r ">" swap-window -t +1
# bind-key "c" new-window -c "#{pane_current_path}"
#
# ## panes
# ### resizing
# bind-key -r H resize-pane -L "$pane_resize"
# bind-key -r J resize-pane -D "$pane_resize"
# bind-key -r K resize-pane -U "$pane_resize"
# bind-key -r L resize-pane -R "$pane_resize"
#
# ### spliting
# bind-key "|" split-window -h -c "#{pane_current_path}"
# bind-key "\\" split-window -fh -c "#{pane_current_path}"
# bind-key "-" split-window -v -c "#{pane_current_path}"
# bind-key "_" split-window -fv -c "#{pane_current_path}"
# bind-key "%" split-window -h -c "#{pane_current_path}"
# bind-key '"' split-window -v -c "#{pane_current_path}"
#
# # on macOS, sync clipboards
# if-shell " [ $(uname) = "Darwin" ]" \
# 	'set-option -g default-command "reattach-to-user-namespace -l $SHELL"'

##########################################
# FANCY TMUX SETUP WITH PLUGINS
##########################################
# tmux plugin manager
# git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
set -g @plugin 'tmux-plugins/tpm'

# sensible settings
set -g @plugin 'tmux-plugins/tmux-sensible'

# prefix + / - regex search
# prefix + ctrl-f - simple file search
# prefix + ctrl-g - jumping over git status files (best used after git status command)
# prefix + alt-h - jumping over SHA-1/SHA-256 hashes (best used after git log command)
# prefix + ctrl-u - url search (http, ftp and git urls)
# prefix + ctrl-d - number search (mnemonic d, as digit)
# prefix + alt-i - ip address search
set -g @plugin 'tmux-plugins/tmux-copycat'

# brew install reattach-to-user-namespace
# sudo { yum,apt-get } install xsel
set -g @plugin 'tmux-plugins/tmux-yank'

# o - "open" a highlighted selection with the system default program. open for OS X or xdg-open for Linux.
# Ctrl-o - open a highlighted selection with the $EDITOR
# Shift-s - search the highlighted selection directly inside a search engine (defaults to google).
set -g @plugin 'tmux-plugins/tmux-open'

# prefix + Ctrl-s - save
# prefix + Ctrl-r - restore
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'
# set -g @continuum-boot 'on'
# set -g @continuum-restore 'on'
# navigation: prefix + {h,j,k,l}
# resize: prefix + shift + {h,j,k,l}
# split: prefix + {|,-,\,_}
# swap: prefix + {<,>}
set -g @plugin 'tmux-plugins/tmux-pain-control'

# show cpu stats
set -g @plugin 'tmux-plugins/tmux-cpu'

# show network stats
set -g @plugin 'tmux-plugins/tmux-net-speed'

# show prefix activation
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'

run -b '~/.tmux/plugins/tpm/tpm'

setw -g mode-keys vi # support vi copy/paste
set -g mouse on # support mouse

set -g status-right-length '150'
set -g status-right '#{prefix_highlight} #{cpu_bg_color} CPU: #{cpu_icon} #{cpu_percentage} | #{net_speed} | %a %h-%d %H:%M '
