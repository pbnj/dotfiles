" source: https://www.vi-improved.org/recommendations/
syntax off

" Highlights
highlight Visual term=reverse cterm=reverse
highlight StatusLine term=reverse cterm=reverse
highlight StatusLineTerm term=reverse cterm=reverse ctermfg=NONE ctermbg=NONE
highlight StatusLineTermNC term=reverse cterm=reverse ctermfg=NONE ctermbg=NONE

" Grep
if executable("rg")
  set grepprg=rg\ --vimgrep
  set grepformat=%f:%l:%c:%m
endif

" Options
" set colorcolumn=80
" set textwidth=80
set autoindent
set autoread
set backspace=indent,eol,start
set belloff=all
set breakindent
set cmdheight=2
set completeopt=longest,menuone,preview
set display=lastline
set encoding=utf-8
set fileencoding=utf-8
set formatoptions+=j " remove comment leader when joining lines
set formatoptions+=n " when formatting text, recognize numbered lists
set formatoptions+=r " auto insert bullet point on new lines
set hidden
set hlsearch
set ignorecase
set incsearch
set infercase
set laststatus=2
set lazyredraw
set linebreak
set list
set listchars=tab:»\ ,extends:›,precedes:‹,nbsp:·,trail:·
set mouse=a
set nobackup
set nocursorline
set nomodeline
set nonumber
set norelativenumber
set nospell
set noswapfile
set novisualbell
set nowrap
set nowritebackup
set path+=**
set ruler
set scrolloff=1
set shortmess+=c
set showcmd
set showmatch
set showmode
set smartcase
set smarttab
set splitbelow
set splitright
set t_ut=""
set undodir=$HOME/.vim/undo
set undofile
set updatetime=100
set wildignorecase
set wildmenu
set wildmode=longest,full

set statusline=%F%m%r%h%w\ [%L][%{&ff}]%y[%p%%][%04l,%04v]
"              | | | | |    |   |      |  |     |    |
"              | | | | |    |   |      |  |     |    +-- current column
"              | | | | |    |   |      |  |     +-- current line
"              | | | | |    |   |      |  +-- current % into file
"              | | | | |    |   |      +-- current syntax
"              | | | | |    |   +-- current fileformat
"              | | | | |    +-- number of lines
"              | | | | +-- preview flag in square brackets
"              | | | +-- help flag in square brackets
"              | | +-- readonly flag in square brackets
"              | +-- rodified flag in square brackets
"              +-- full path to file in the buffer

" Mappings
" Autocompletions
inoremap <silent> ,f <C-x><C-f> " file names
inoremap <silent> ,i <C-x><C-i> " keywords
inoremap <silent> ,l <C-x><C-l> " whole lines
inoremap <silent> ,n <C-x><C-n> " keywords in current file
inoremap <silent> ,o <C-x><C-o> " omni completion
inoremap <silent> ,t <C-x><C-]> " tags
inoremap <silent> ,u <C-x><C-u> " user defined

" Arrows
nnoremap <silent> <left>  <esc>:lprev<cr>
nnoremap <silent> <right> <esc>:lnext<cr>
nnoremap <silent> <up>    <esc>:cprev<cr>
nnoremap <silent> <down>  <esc>:cnext<cr>

" Functions
function! StripTrailingWhitespace()
  if !&binary && &filetype != 'diff'
    normal mz
    normal Hmy
    %s/\s\+$//e
    normal 'yz<CR>
    normal `z
  endif
endfunction

